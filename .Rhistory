) +
geom_point() +
geom_smooth(method = "lm")
# 3. Make a scatterplot of bill_depth_mm vs. bill_length_mm. That is, make a scatterplot with bill_depth_mm on the y-axis and bill_length_mm on the x-axis. Describe the relationship between these two variables.
ggplot(
data = penguins,
mapping = aes(x = bill_length_mm, y = bill_depth_mm)
) +
geom_point() +
geom_smooth(method = "lm") +
labs(
title = "Bill depth and bill length",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "Bill length (mm)", y = "Bill depth (mm)",
color = "Species", shape = "Species"
)
# 4. What happens if you make a scatterplot of species vs. bill_depth_mm? What might be a better choice of geom?
ggplot(
data = penguins,
mapping = aes(x = bill_depth_mm, y = species)
) +
geom_point() +
geom_smooth(method = "lm") +
labs(
title = "Species and bill depth",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "bill depth (mm)", y = "Species",
color = "Species", shape = "Species"
)
# 4. What happens if you make a scatterplot of species vs. bill_depth_mm? What might be a better choice of geom?
ggplot(
data = penguins,
mapping = aes(x = bill_depth_mm, y = species)
) +
geom_col() +
geom_smooth(method = "lm") +
labs(
title = "Species and bill depth",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "bill depth (mm)", y = "Species",
color = "Species", shape = "Species"
)
# 5. Why does the following give an error and how would you fix it?
ggplot(data = penguins) +
geom_point()
# 6. What does the na.rm argument do in geom_point()? What is the default value of the argument? Create a scatterplot where you successfully use this argument set to TRUE.
ggplot(
data = penguins,
mapping = aes(x = bill_depth_mm, y = species)
na.rm = TRUE
# 6. What does the na.rm argument do in geom_point()? What is the default value of the argument? Create a scatterplot where you successfully use this argument set to TRUE.
ggplot(
data = penguins,
mapping = aes(x = bill_depth_mm, y = species)
) +
geom_point(na.rm = TRUE)
# 6. What does the na.rm argument do in geom_point()? What is the default value of the argument? Create a scatterplot where you successfully use this argument set to TRUE.
ggplot(
data = penguins,
mapping = aes(x = bill_depth_mm, y = species)
) +
geom_point()
# 6. What does the na.rm argument do in geom_point()? What is the default value of the argument? Create a scatterplot where you successfully use this argument set to TRUE.
ggplot(
data = penguins,
mapping = aes(x = bill_depth_mm, y = species)
) +
geom_point(na.rm = TRUE)
geom_point(na.rm = TRUE)
geom_point(na.rm = TRUE)
# 4. What happens if you make a scatterplot of species vs. bill_depth_mm? What might be a better choice of geom?
ggplot(
data = penguins,
mapping = aes(x = bill_depth_mm, y = species)
) +
geom_col() +
geom_smooth(method = "lm") +
labs(
title = "Species and bill depth",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "bill depth (mm)", y = "Species",
color = "Species", shape = "Species"
)
geom_point(na.rm = TRUE)
geom_point(na.rm = TRUE) +
labs(
title = "Data come from the palmerpenguins package."
)
# 7. Add the following caption to the plot you made in the previous exercise: “Data come from the palmerpenguins package.” Hint: Take a look at the documentation for labs().
ggplot(
data = penguins,
mapping = aes(x = bill_depth_mm, y = species)
) +
geom_point(na.rm = TRUE) +
labs(
title = "Data come from the palmerpenguins package."
)
# 8. Recreate the following visualization. What aesthetic should bill_depth_mm be mapped to? And should it be mapped at the global level or at the geom level?
ggplot(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
geom_point(na.rm = TRUE) +
labs(
title = "Body mass and flipper length",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "Flipper length (mm)", y = "Body mass (g)",
color = "bill_depth_mm", shape = "bill_depth_mm"
)
# 8. Recreate the following visualization. What aesthetic should bill_depth_mm be mapped to? And should it be mapped at the global level or at the geom level?
ggplot(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
geom_point(na.rm = TRUE, aes(colour ="bill_depth_mm")) +
labs(
title = "Body mass and flipper length",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "Flipper length (mm)", y = "Body mass (g)",
color = "bill_depth_mm", shape = "bill_depth_mm"
)
# 8. Recreate the following visualization. What aesthetic should bill_depth_mm be mapped to? And should it be mapped at the global level or at the geom level?
ggplot(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
geom_point(na.rm = TRUE, aes(colour ="bill_depth_mm")) +
geom_smooth(method = "lm") +
labs(
title = "Body mass and flipper length",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "Flipper length (mm)", y = "Body mass (g)",
color = "bill_depth_mm", shape = "bill_depth_mm"
)
# 8. Recreate the following visualization. What aesthetic should bill_depth_mm be mapped to? And should it be mapped at the global level or at the geom level?
ggplot(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
geom_point(na.rm = TRUE, aes(colour ="bill_depth_mm")) +
geom_smooth(method = "lm") +
labs(
title = "Body mass and flipper length",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "Flipper length (mm)", y = "Body mass (g)",
)
color = "bill_depth_mm", shape = "bill_depth_mm"
# 8. Recreate the following visualization. What aesthetic should bill_depth_mm be mapped to? And should it be mapped at the global level or at the geom level?
ggplot(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
geom_point(na.rm = TRUE, aes(colour ="bill_depth_mm")) +
geom_smooth(method = "lm") +
labs(
title = "Body mass and flipper length",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "Flipper length (mm)", y = "Body mass (g)",
color = "bill_depth_mm", shape = "bill_depth_mm"
)
# 8. Recreate the following visualization. What aesthetic should bill_depth_mm be mapped to? And should it be mapped at the global level or at the geom level?
ggplot(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
geom_point(na.rm = TRUE, aes(colour ="bill_depth_mm")) +
geom_smooth(method = "lm") +
labs(
title = "Body mass and flipper length",
subtitle = "Dimensions for Adelie, Chinstrap, and Gentoo Penguins",
x = "Flipper length (mm)", y = "Body mass (g)",
color = "bill_depth_mm", shape = "bill_depth_mm"
)  +
scale_color_colorblind()
ggplot(data = penguins, aes(x = flipper_length_mm, y = body_mass_g)) +
geom_point(aes(color = bill_depth_mm)) +  # map color at the geom level
geom_smooth() +                           # adds the trend line (loess by default)
labs(
x = "flipper_length_mm",
y = "body_mass_g",
color = "bill_depth_mm"
) +
theme_minimal()
ggplot(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g, color = island)
) +
geom_point() +
geom_smooth(se = FALSE)
ggplot(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
geom_point() +
geom_smooth()
ggplot() +
geom_point(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
) +
geom_smooth(
data = penguins,
mapping = aes(x = flipper_length_mm, y = body_mass_g)
)
# 1. Make a bar plot of species of penguins, where you assign species to the y aesthetic. How is this plot different?
ggplot(penguins, aes(x = species)) +
geom_bar()
ggplot(penguins, aes(x = species)) +
geom_bar(color = "red")
ggplot(penguins, aes(x = species)) +
geom_bar(fill = "red")
# 4. Make a histogram of the carat variable in the diamonds dataset that is available when you load the tidyverse package. Experiment with different binwidths. What binwidth reveals the most interesting patterns
library(tidyverse)
data("diamonds")
force(diamonds)
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 20)
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 200)
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 200)
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 2000)
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 2000)
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 2000)
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 2000)
# 4. Make a histogram of the carat variable in the diamonds dataset that is available when you load the tidyverse package. Experiment with different binwidths. What binwidth reveals the most interesting patterns
library(tidyverse)
ggplot(penguins, aes(x = species)) +
geom_bar(fill = "red")
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 2000)
ggplot(diamonds, aes(x=carat)) +
geom_histogram(binwidth = 2000000000)
ggplot(diamonds, aes(x= carat)) +
geom_histogram(binwidth = 2000000000)
ggplot(diamonds, aes(x= carat)) +
geom_histogram(binwidth = 200)
ggplot(diamonds, aes(x= carat)) +
geom_histogram(binwidth = 4000)
ggplot(diamonds, aes(x= carat)) +
geom_histogram(binwidth = 10000)
ggplot(diamonds, aes(x= carat)) +
geom_histogram(binwidth = 10000000000000)
ggplot(diamonds, aes(x= carat)) +
geom_histogram(binwidth = 0.5)
ggplot(diamonds, aes(x= carat)) +
geom_histogram(binwidth = 0.1)
ggplot(diamonds, aes(x= carat)) +
geom_histogram(binwidth = 0.01)
data("mpg")
force(mpg)
View(mpg)
?mpg
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(mpg, aes(x = displ, y = hwy)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(mpg, aes(x = displ, y = hwy), color="year") +
geom_point()
mapping = aes(x = displ, y = hwy, color="year") +
mapping = aes(x = displ, y = hwy, color="year") +
mapping = aes(x = displ, y = hwy, color=year) +
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 10)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 1)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.5)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 5)) +
geom_point()
0.
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.5, shape = manufacturer)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.5, shape=model)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.05, shape=model)) +
geom_point()
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.05, shape=model)) +
geom_point()
#Exercícios - capítulo 1 R4ds
library(tidyverse)
library(palmerpenguins)
library(ggthemes)
# 2. Make a scatterplot of hwy vs. displ using the mpg data frame. Next, map a third, numerical variable to color, then size, then both color and size, then shape. How do these aesthetics behave differently for categorical vs. numerical variables?
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.05, shape=model)) +
geom_point()
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.05 linewidth = model)) +
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.05, linewidth = model)) +
geom_point()
View(mpg)
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.05, linewidth = year)) +
geom_point()
ggplot(
data = mpg,
mapping = aes(x = displ, y = hwy, color=year, size = 0.05, shape=model,linewidth = year)) +
geom_point()
ggplot(penguins, aes(x = bill_length_mm, y = bill_depth_mm, color = species)) +
geom_point() +
labs(title = "Relação entre o comprimento e profundidade do bico",
x = "Comprimento do bico (mm)",
y = "Profundidade do bico (mm)") +
theme_minimal()
ggplot(penguins, aes(x = bill_length_mm, y = bill_depth_mm, color = species)) +
geom_point() +
geom_smooth(method = "lm") +
labs(title = "Relação entre o comprimento e profundidade do bico",
x = "Comprimento do bico (mm)",
y = "Profundidade do bico (mm)") +
theme_minimal()
ggplot(
data = penguins,
mapping = aes(
x = bill_length_mm, y = bill_depth_mm,
color = species, shape = species
)
) +
geom_point() +
labs(color = "Species")
ggplot(
data = penguins,
mapping = aes(
x = bill_length_mm, y = bill_depth_mm,
color = species, shape = species
)
) +
geom_point() +
labs(color = "species")
# RESPOSTA: O labs(color = "Species") renomeia apenas a legenda da cor, mas não a do formato (shape).Como os títulos das duas legendas (color e shape) são diferentes, o ggplot2 não entende que elas estão relacionadas à mesma variável.
# Para resolver, basta nomear as legendas idênticas:
ggplot(
data = penguins,
mapping = aes(
x = bill_length_mm, y = bill_depth_mm,
color = species, shape = species
)
) +
geom_point() +
labs(color = "species")
ggplot(penguins, aes(x = island, fill = species)) +
geom_bar(position = "fill")
ggplot(penguins, aes(x = species, fill = island)) +
geom_bar(position = "fill")
ggplot(mpg, aes(x = class)) +
geom_bar()
ggplot(mpg, aes(x = cty, y = hwy)) +
geom_point()
?ggsave
ggsave("mpg-plot.pdf")
getwd()
library(tidyverse)
ggplot(data = mpg, aes(x = displ, y = hwy)) +
geom_point(shape = 24, fill = "pink", color = "black", size = 3)
ggplot(mpg) +
geom_point(aes(x = displ, y = hwy, color = "blue"))
ggplot(data = mpg, aes(x = displ, y = hwy)) +
geom_point(shape = 24, fill = "pink", color = "black", size = 3)
geoms
library(tibble)
geoms <- tibble::tibble(
chart_type = c("Line chart", "Boxplot", "Histogram", "Area chart"),
geom_used  = c("geom_line()", "geom_boxplot()", "geom_histogram()", "geom_area()")
)
geoms
View(geoms)
getwd()
library(tidyverse)
getwd()
panorama_geral<- read.csv("C:\Users\rafae\Downloads\Projeto ADS\cnes_cnv_prid02br200612179_190_176_78.csv", stringsAsFactors = FALSE)
panorama_geral<- read.csv("C:/Users/rafae/Downloads/Projeto ADS/cnes_cnv_prid02br200612179_190_176_78.csv", stringsAsFactors = FALSE)
panorama_geral<- read.csv("C:/Users/rafae/Downloads/Projeto ADS/cnes_cnv_prid02br200612179_190_176_78.csv"
data(panorama_geral)
panorama_geral<- read.csv("C:/Users/rafae/Downloads/Projeto ADS/cnes_cnv_prid02br200612179_190_176_78.csv")
data(panorama_geral)
panorama_geral<- read.csv("cnes_cnv_prid02br200612179_190_176_78.csv")
panorama_geral<- read.csv("cnes_cnv_prid02br200612179_190_176_78.csv")
obitos_fetais_tipos_partos <- read.csv2("sim_compl_blocbr163051179_190_176_78.csv",
stringsAsFactors = FALSE,
fileEncoding = "latin1")
library(tidyverse)
library(tidyr)
library(dplyr)
setwd("C:/Users/rafae/Downloads/Projeto ADS")
getwd()
obitos_fetais_tipos_partos <- read.csv2("sim_compl_blocbr163051179_190_176_78.csv",
stringsAsFactors = FALSE,
fileEncoding = "latin1")
Encoding(obitos_fetais_tipos_partos$UF) <- "UTF-8"
colnames(obitos_fetais_tipos_partos) <- c(
"UF Ocorrência",
"Percentual de ocorrência",
"Não preenchido",
"Ignorado",
"Parto normal",
"Cesario",
"Total"
)
obitos_fetais_tipos_partos$Total <- NULL
View(obitos_fetais_tipos_partos)
obitos_fetais_morte <- read.csv2("sim_compl_blocbr170040179_190_176_78.csv",
stringsAsFactors = FALSE,
fileEncoding = "latin1")
Encoding(obitos_fetais_morte$UF) <- "UTF-8"
obitos_fetais_morte$Total <- NULL
colnames(obitos_fetais_morte) <- c(
"UF Ocorrência",
"Percentual de ocorrência",
"Não preenchido",
"Ignorado",
"Antes do parto",
"Depois do parto"
)
View(obitos_fetais_morte)
obitos_fetais_duracao_gestacao <- read.csv2("sim_compl_blocbr170653179_190_176_78.csv",
stringsAsFactors = FALSE,
fileEncoding = "latin1")
obitos_fetais_duracao_gestacao$Total <- NULL
colnames(obitos_fetais_duracao_gestacao) <- c(
"UF Ocorrência",
"Não preenchido",
"Ignorado",
"Menos 22",
"22 a 27",
"28 a 31",
"32 a 36",
"37 a 41",
"42+"
)
View(obitos_fetais_duracao_gestacao)
obitos_fetais_tipo_gestacao <- read.csv2("sim_compl_blocbr172802179_190_176_78.csv",
stringsAsFactors = FALSE,
fileEncoding = "latin1")
obitos_fetais_tipo_gestacao$Total <- NULL
colnames(obitos_fetais_tipo_gestacao) <- c(
"UF Ocorrência",
"Não preenchido",
"Ignorado",
"Única",
"Dupla",
"Tripla ou +"
)
View(obitos_fetais_tipo_gestacao)
obitos_fetais_n_filhos_mortos <- read.csv2("sim_compl_blocbr172900179_190_176_78 (1).csv",
stringsAsFactors = FALSE,
fileEncoding = "latin1")
obitos_fetais_n_filhos_mortos$Total <- NULL
colnames(obitos_fetais_n_filhos_mortos) <- c(
"UF Ocorrência",
"Ignorado",
"Zero nº de filhos",
"01",
"02",
"03",
"04",
"05",
"06",
"07",
"08",
"09",
"10",
"11",
"14",
"21",
"24",
"25"
)
View(obitos_fetais_n_filhos_mortos)
